
#---------------------------
#  Rosetta platform 
#---------------------------

# Non-SSL
<VirtualHost *:80>
    ServerName rosetta.platform
    Redirect 301 / https://rosetta.platform/
</VirtualHost>

# SSL
<VirtualHost *:443>
    
    ServerName rosetta.platform

    SSLEngine on
    SSLCertificateFile /root/certificates/rosetta_platform/rosetta_platform.crt
    SSLCertificateKeyFile /root/certificates/rosetta_platform/rosetta_platform.key
    SSLCACertificateFile /root/certificates/rosetta_platform/rosetta_platform.ca-bundle

    ProxyPass / http://webapp:8080/
    ProxyPassReverse / http://webapp:8080/
    
</VirtualHost>


#---------------------------
#  Localhost
#---------------------------

# Non-SSL 
<VirtualHost *:80>

    ServerName localhost
    ProxyPass / http://webapp:8080/
    ProxyPassReverse / http://webapp:8080/

</VirtualHost>

# SSL
<VirtualHost *:443>

    ServerName localhost
     
    SSLEngine on

    SSLCertificateFile /root/certificates/rosetta_platform/rosetta_platform.crt
    SSLCertificateKeyFile /root/certificates/rosetta_platform/rosetta_platform.key
    SSLCACertificateFile /root/certificates/rosetta_platform/rosetta_platform.ca-bundle
    #SSLCertificateFile  /etc/ssl/certs/ssl-cert-snakeoil.pem
    #SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
    #SSLCACertificateFile /etc/ssl/certs/ca-certificates.crt

    ProxyPass / http://webapp:8080/
    ProxyPassReverse / http://webapp:8080/

</VirtualHost>


#---------------------------
#  Anything
#---------------------------

# Non-SSL 
<VirtualHost *:80>

    ProxyPass / http://webapp:8080/
    ProxyPassReverse / http://webapp:8080/

</VirtualHost>

# SSL
<VirtualHost *:443>
  
    SSLEngine on

    SSLCertificateFile /root/certificates/rosetta_platform/rosetta_platform.crt
    SSLCertificateKeyFile /root/certificates/rosetta_platform/rosetta_platform.key
    SSLCACertificateFile /root/certificates/rosetta_platform/rosetta_platform.ca-bundle
    #SSLCertificateFile  /etc/ssl/certs/ssl-cert-snakeoil.pem
    #SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
    #SSLCACertificateFile /etc/ssl/certs/ca-certificates.crt

    ProxyPass / http://webapp:8080/
    ProxyPassReverse / http://webapp:8080/

</VirtualHost>




# vim: syntax=apache ts=4 sw=4 sts=4 sr noet

